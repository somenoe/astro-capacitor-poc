---
import "leaflet/dist/leaflet.css";

export interface Props {
  latitude: number;
  longitude: number;
  zoom: number;
  /** the DOM ID of a <div> element */
  container: string;
  /** https://leafletjs.com/reference.html#tilelayer */
  tileLayer: string;
  /** Most tile servers require attribution. */
  attribution: string;
  containerstyle?: string;
  locations?: [string, number, number][];
}

const {
  latitude,
  longitude,
  zoom,
  container,
  tileLayer,
  attribution,
  containerstyle = "height: 61.8vh",
  locations,
} = Astro.props;

// src: https://github.com/roblabs/maps-withastro
---

<leaflet-map
  data-latitude={latitude}
  data-longitude={longitude}
  data-zoom={zoom}
  data-container={container}
  data-tiles={tileLayer}
  data-attribution={attribution}
  data-containerstyle={containerstyle}
  data-locations={JSON.stringify(locations)}
>
  <div id={container} style={containerstyle}></div>
  <script src="./leaflet.ts"></script>
</leaflet-map>
